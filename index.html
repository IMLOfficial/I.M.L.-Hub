<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>I.M.L. Official</title>

<link rel="manifest" href="manifest.json">
<link rel="icon" href="logo.png">
<meta name="theme-color" content="#0b1220">

<style>
:root{
  --bg:#eef7ff;
  --fg:#0b1220;
  --accent:#4db8ff;
}
[data-theme="dark"]{
  --bg:#0b1220;
  --fg:#eef7ff;
}

body{
  margin:0;
  font-family:system-ui,Arial;
  background:var(--bg);
  color:var(--fg);
  overflow-x:hidden;
}

canvas#bg{
  position:fixed;
  inset:0;
  z-index:-1;
}

/* Header */
header{
  padding:15px;
}
.btns button{
  margin:5px;
  padding:10px 18px;
  border-radius:25px;
  border:none;
  background:var(--accent);
  color:#fff;
  font-weight:600;
  touch-action:manipulation;
}

/* Hero */
#hero{
  text-align:center;
  padding:70px 20px;
}
.logo-wrap{
  position:relative;
  width:160px;
  height:160px;
  margin:auto;
}
.logo-wrap img{
  width:100%;
  position:relative;
  z-index:3;
  animation:float 6s ease-in-out infinite;
}
.glow{
  position:absolute;
  inset:-25%;
  border-radius:50%;
  background:radial-gradient(circle,rgba(120,200,255,.9),transparent 70%);
  filter:blur(40px);
  animation:pulse 4s infinite;
}
#orbit{
  position:absolute;
  inset:0;
  z-index:2;
}

@keyframes float{
  50%{transform:translateY(-12px)}
}
@keyframes pulse{
  50%{opacity:.4}
}

/* Sections */
section{
  padding:40px 20px;
}
iframe{
  width:100%;
  height:260px;
  border:none;
  border-radius:20px;
}

/* Install */
#installBox{
  text-align:center;
}
#installBox button{
  padding:15px 35px;
  border-radius:30px;
  border:none;
  background:var(--accent);
  color:white;
  font-size:1.1em;
}
#iosHint{
  display:none;
  opacity:.7;
  margin-top:10px;
}

/* Modal */
#installModal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  align-items:center;
  justify-content:center;
}
#installModal .card{
  background:var(--bg);
  color:var(--fg);
  padding:25px;
  border-radius:20px;
  text-align:center;
}
</style>
</head>

<body>

<canvas id="bg"></canvas>

<header>
  <h2>I.M.L.</h2>
  <div class="btns">
    <button onclick="toggleTheme()">Light / Dark</button>
    <button onclick="window.open('https://youtube.com/@i.m.l._official','_blank')">YouTube</button>
    <button onclick="window.open('https://www.tiktok.com/@i.m.l._official','_blank')">TikTok</button>
  </div>
</header>

<section id="hero">
  <div class="logo-wrap" id="hero">
    <img src="./logo.png" alt="I.M.L Logo">
    <div class="glow"></div>
    <canvas id="orbit"></canvas>
  </div>
  <p>High-voltage sound · Cinematic visuals · I.M.L.</p>
</section>

<section>
<h2>Latest Videos</h2>
<iframe src="https://www.youtube.com/embed?listType=playlist&list=UUes-oJI1M7Rr6oWIofhK6fg"></iframe>
</section>

<section id="installBox">
<h2>Install App</h2>
<button onclick="openInstall()">Install</button>
<p id="iosHint">iOS: Share → Add to Home Screen</p>
</section>

<div id="installModal">
  <div class="card">
    <h3>Install I.M.L. App</h3>
    <p>Get the full experience offline.</p>
    <button onclick="doInstall()">Install</button><br><br>
    <button onclick="closeInstall()">Cancel</button>
  </div>
</div>

<script>
/* THEME */
function toggleTheme(){
  document.body.dataset.theme =
    document.body.dataset.theme==="dark"?"":"dark";
}

/* BACKGROUND */
const bg=document.getElementById("bg"),ctx=bg.getContext("2d");
let w,h,pts=[];
function resize(){
  w=bg.width=innerWidth;
  h=bg.height=innerHeight;
  pts=[...Array(80)].map(()=>({x:Math.random()*w,y:Math.random()*h,s:Math.random()*1+0.5}));
}
window.onresize=resize;resize();
function animate(){
  ctx.clearRect(0,0,w,h);
  pts.forEach(p=>{
    p.y-=p.s;
    if(p.y<0)p.y=h;
    ctx.fillStyle="rgba(120,200,255,.6)";
    ctx.beginPath();
    ctx.arc(p.x,p.y,2,0,Math.PI*2);
    ctx.fill();
  });
  requestAnimationFrame(animate);
}
animate();

/* ORBIT */
const o=document.getElementById("orbit"),ox=o.getContext("2d");
function orbit(){
  o.width=o.offsetWidth;o.height=o.offsetHeight;
  ox.clearRect(0,0,o.width,o.height);
  for(let i=0;i<12;i++){
    let a=Date.now()/800+i;
    let r=o.width/2.2;
    ox.fillStyle="rgba(120,200,255,.9)";
    ox.beginPath();
    ox.arc(o.width/2+Math.cos(a)*r,o.height/2+Math.sin(a)*r,3,0,7);
    ox.fill();
  }
  requestAnimationFrame(orbit);
}
orbit();

/* INSTALL */
let deferredPrompt;
window.addEventListener("beforeinstallprompt",e=>{
  e.preventDefault();
  deferredPrompt=e;
});
function openInstall(){
  if(deferredPrompt){
    document.getElementById("installModal").style.display="flex";
  }else{
    document.getElementById("iosHint").style.display="block";
  }
}
function closeInstall(){
  document.getElementById("installModal").style.display="none";
}
function doInstall(){
  deferredPrompt.prompt();
  deferredPrompt=null;
  closeInstall();
}

/* SERVICE WORKER */
if("serviceWorker"in navigator){
  navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
